{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport analizeApi from \"../api/analize\";\nimport gifApi from \"../api/gif\";\nconst initialState = {\n  page: \"initial\",\n  user_info: {},\n  loading: false,\n  error: false\n};\nconst slice = createSlice({\n  name: \"hourReport\",\n  initialState,\n  reducers: {\n    fetchStart: state => {\n      return Object.assign({}, state, {\n        user_info: {},\n        loading: true\n      });\n    },\n    fetchSucceed: (state, action) => {\n      return Object.assign({}, state, {\n        user_info: action.payload,\n        page: \"user_list\",\n        loading: false\n      });\n    },\n    fetchFaild: (state, action) => {\n      console.error(action.payload);\n      return Object.assign({}, state, {\n        loading: false,\n        error: true\n      });\n    },\n    clear: () => {\n      return {\n        text: \"\",\n        loading: false,\n        error: false\n      };\n    },\n    makeReport: (state, action) => {\n      console.log(\"post\");\n      console.log(action.payload);\n      return {\n        page: \"report\",\n        user_info: action.payload,\n        loading: false,\n        error: false\n      };\n    }\n  }\n}); // Reducer\n\nexport default slice.reducer; // Actions\n\nexport const {\n  clear\n} = slice.actions;\nexport const {\n  postReport\n} = slice.actions; // Async task\n\nexport function fetchAsync(channel) {\n  return async function (dispatch) {\n    dispatch(slice.actions.fetchStart());\n\n    try {\n      const response = await analizeApi.slack(channel);\n      console.log(response);\n      dispatch(slice.actions.fetchSucceed(response));\n    } catch (err) {\n      dispatch(slice.actions.fetchFaild(err));\n    }\n  };\n}","map":{"version":3,"sources":["/Users/shiokawahayato/work/HRLog/src/stores/hourReport.js"],"names":["createSlice","analizeApi","gifApi","initialState","page","user_info","loading","error","slice","name","reducers","fetchStart","state","Object","assign","fetchSucceed","action","payload","fetchFaild","console","clear","text","makeReport","log","reducer","actions","postReport","fetchAsync","channel","dispatch","response","slack","err"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport analizeApi from \"../api/analize\";\nimport gifApi from \"../api/gif\";\n\nconst initialState = {\n\tpage : \"initial\",\n    user_info : {},\n    loading: false,\n    error: false\n};\n\nconst slice = createSlice({\n\tname: \"hourReport\",\n\tinitialState,\n\treducers: {\n\t    fetchStart: state => {\n\t\treturn Object.assign({}, state, { user_info: {}, loading: true });\n\t    },\n\t    fetchSucceed: (state, action) => {\n\t\treturn Object.assign({}, state, { user_info: action.payload, page:\"user_list\", loading: false });\n\t    },\n\t    fetchFaild: (state, action) => {\n\t\tconsole.error(action.payload);\n\t\treturn Object.assign({}, state, { loading: false, error: true });\n        },\n        \n\t    clear: () => {\n\t\treturn { text: \"\", loading: false, error: false };\n        },\n        makeReport: (state,action) => {\n            console.log(\"post\") \n            console.log(action.payload)   \n            return {page:\"report\", user_info: action.payload, loading: false, error: false }\n        }\n        \n\t}\n    });\n\n// Reducer\nexport default slice.reducer;\n\n// Actions\nexport const { clear } = slice.actions;\nexport const { postReport } = slice.actions;\n\n// Async task\nexport function fetchAsync(channel) {\n    return async function(dispatch) {\n\tdispatch(slice.actions.fetchStart());\n\n\ttry {\n\t\tconst response = await analizeApi.slack(channel);\n\t\tconsole.log(response)\n\t    dispatch(slice.actions.fetchSucceed(response));\n\t} catch (err) {\n\t    dispatch(slice.actions.fetchFaild(err));\n\t}\n    };\n}\n\n"]},"metadata":{},"sourceType":"module"}